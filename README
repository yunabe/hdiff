*codereview
Copied from rietvelt (http://code.google.com/p/rietveld/) revision 768.
